"use strict";(self.webpackChunkmilliwonkim_blog_site=self.webpackChunkmilliwonkim_blog_site||[]).push([[475],{3905:(t,e,n)=>{n.d(e,{Zo:()=>c,kt:()=>g});var r=n(7294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var s=r.createContext({}),p=function(t){var e=r.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},c=function(t){var e=p(t.components);return r.createElement(s.Provider,{value:e},t.children)},u="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(t,e){var n=t.components,a=t.mdxType,o=t.originalType,s=t.parentName,c=l(t,["components","mdxType","originalType","parentName"]),u=p(n),m=a,g=u["".concat(s,".").concat(m)]||u[m]||d[m]||o;return n?r.createElement(g,i(i({ref:e},c),{},{components:n})):r.createElement(g,i({ref:e},c))}));function g(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l[u]="string"==typeof t?t:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1658:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const o={title:"How to use Dynamic Route in Next.js (described as Static Site Generation (SSG))"},i=void 0,l={unversionedId:"Front-End Development/nextjs/16",id:"Front-End Development/nextjs/16",title:"How to use Dynamic Route in Next.js (described as Static Site Generation (SSG))",description:"\ud83d\udca1 To use Dynamic Route in Next.js, You must use getStaticPaths, getStaticProps.",source:"@site/docs/Front-End Development/nextjs/16.md",sourceDirName:"Front-End Development/nextjs",slug:"/Front-End Development/nextjs/16",permalink:"/docs/Front-End Development/nextjs/16",draft:!1,tags:[],version:"current",frontMatter:{title:"How to use Dynamic Route in Next.js (described as Static Site Generation (SSG))"},sidebar:"developmentSidebar",previous:{title:"How to fix \u201cError - error:030810C:digital envelope routines::unsupported\u201d in Next.js",permalink:"/docs/Front-End Development/nextjs/15"},next:{title:"How to fix \u201cError - serializing .res.headers returned from \u2018getStaticProps\u2019 in `/`. Reason - 'Object'('[object AxiosHeaders]') cannot be serialized as JSON. Please only return JSON serializable data types\u201d in Next.js",permalink:"/docs/Front-End Development/nextjs/17"}},s={},p=[{value:"getStaticPaths",id:"getstaticpaths",level:3},{value:"getStaticProps",id:"getstaticprops",level:3},{value:"getStaticPaths + getStaticProps",id:"getstaticpaths--getstaticprops",level:3}],c={toc:p},u="wrapper";function d(t){let{components:e,...n}=t;return(0,a.kt)(u,(0,r.Z)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\ud83d\udca1 To use Dynamic Route in Next.js, You must use getStaticPaths, getStaticProps.")),(0,a.kt)("h3",{id:"getstaticpaths"},"getStaticPaths"),(0,a.kt)("p",null,"getStaticPaths uses a server to pre-render all pages according to all URLs at the build time to create static pages with dynamic paths."),(0,a.kt)("p",null,"For example, if you have dynamic routing called /post/","[id]",".tsx, you can create a file that pre-renders HTML, JS, etc. for /post/1, /post/2, /post/3,"),(0,a.kt)("p",null,"During this deployment, when /post/1 is called, HTML, JS, etc. of pre-rendered /post/1 are rendered to the browser."),(0,a.kt)("h3",{id:"getstaticprops"},"getStaticProps"),(0,a.kt)("p",null,"The path (/post/1) is then passed to getStaticProps so that data for that path can be imported."),(0,a.kt)("p",null,"It is the Next.js API that can be confused with useEffect,"),(0,a.kt)("p",null,"The difference is that for useEffect is calling in Client-Side so that the data can be imported from the API"),(0,a.kt)("p",null,"On the other hand, getStaticProps allows the server to call and retrieve data from the API."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null}),(0,a.kt)("th",{parentName:"tr",align:null},"useEffect"),(0,a.kt)("th",{parentName:"tr",align:null},"getStaticProps"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Where to run"),(0,a.kt)("td",{parentName:"tr",align:null},"On Client-Side"),(0,a.kt)("td",{parentName:"tr",align:null},"On Server-Side")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"When to run"),(0,a.kt)("td",{parentName:"tr",align:null},"After Component rendering"),(0,a.kt)("td",{parentName:"tr",align:null},"At Next.js build time")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Data Source"),(0,a.kt)("td",{parentName:"tr",align:null},"external data source(server API, database etc)"),(0,a.kt)("td",{parentName:"tr",align:null},"- usually internal data source(local file, database etc)")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"- server API call available"),(0,a.kt)("td",{parentName:"tr",align:null}),(0,a.kt)("td",{parentName:"tr",align:null})),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"How to run"),(0,a.kt)("td",{parentName:"tr",align:null},"run When you need"),(0,a.kt)("td",{parentName:"tr",align:null},"run at pre-rendering once")))),(0,a.kt)("p",null,"If there is no dynamic path, only getStaticProps is used to import data from the server from the API"),(0,a.kt)("p",null,"You can give data to the Client-Side."),(0,a.kt)("p",null,"(getStaticPaths cannot be used alone. But getStaticProps is available on its own.)"),(0,a.kt)("h3",{id:"getstaticpaths--getstaticprops"},"getStaticPaths + getStaticProps"),(0,a.kt)("p",null,"if you use getStaticPaths and getStaticProps, then this is called Static Site Generation(SSG)"),(0,a.kt)("p",null,"(Server Side Rendering(SSR) would be covered later)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'// /pages/post/[id].tsximport React, { useEffect, useState } from "react";\n\nconst Post = (data: IData) => {\n  if (!data) return null;\n\n  return (\n    <MarkdownContainer>\n        <div>{data}</div>\n    </MarkdownContainer>\n  );\n};\n\nexport default Post;\n\nexport const getStaticPaths = () => {\n    return {\n        paths: [\n            { id: "1" },\n            { id: "2" },\n            { id: "3" },\n        ],\n// true, false, "blocking"\n        fallback: true,\n    };\n};\n\nexport const getStaticProps = ({ params }: { id: string }) => {\n  const res = await fetch(\'https://API_OR_SOMETHING.com/v2/getData\');\n  const data = await res.json();\n\n  return {\n    props: {\n      data,\n    },\n  };\n};\n')))}d.isMDXComponent=!0}}]);