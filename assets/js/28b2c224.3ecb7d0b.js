"use strict";(self.webpackChunkmilliwonkim_blog_site=self.webpackChunkmilliwonkim_blog_site||[]).push([[7058],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>f});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=r.createContext({}),c=function(e){var n=r.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},u=function(e){var n=c(e.components);return r.createElement(i.Provider,{value:n},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(t),p=a,f=d["".concat(i,".").concat(p)]||d[p]||m[p]||l;return t?r.createElement(f,o(o({ref:n},u),{},{components:t})):r.createElement(f,o({ref:n},u))}));function f(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,o=new Array(l);o[0]=p;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s[d]="string"==typeof e?e:a,o[1]=s;for(var c=2;c<l;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},866:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var r=t(7462),a=(t(7294),t(3905));const l={title:"How To Integrate @tanstack/react-table with react-hook-form",date:"2023-11-25T11:04"},o=void 0,s={unversionedId:"front-end-development/reactjs/45",id:"front-end-development/reactjs/45",title:"How To Integrate @tanstack/react-table with react-hook-form",description:"react-hook-form\uacfc @tanstack/react-table\uc744 \uc774\uc6a9\ud574\uc11c \ud14c\uc774\ube14\uc744 \ub9cc\ub4e4\uc5b4\ubcf4\uc558\uc2b5\ub2c8\ub2e4.",source:"@site/docs/front-end-development/reactjs/45.md",sourceDirName:"front-end-development/reactjs",slug:"/front-end-development/reactjs/45",permalink:"/docs/front-end-development/reactjs/45",draft:!1,tags:[],version:"current",lastUpdatedBy:"milliwonkim",lastUpdatedAt:1700878748,formattedLastUpdatedAt:"Nov 25, 2023",frontMatter:{title:"How To Integrate @tanstack/react-table with react-hook-form",date:"2023-11-25T11:04"},sidebar:"developmentSidebar",previous:{title:"D3\ub97c \uc548\uc4f0\uace0 Stack Bar Chart\ub97c \uadf8\ub824\ubcf4\uc790!",permalink:"/docs/front-end-development/reactjs/44"},next:{title:"React + styled-components \uc571\uc744 yarn-berry\ub85c \uad00\ub9ac\ud558\uae30",permalink:"/docs/front-end-development/reactjs/5"}},i={},c=[],u={toc:c},d="wrapper";function m(e){let{components:n,...t}=e;return(0,a.kt)(d,(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"react-hook-form\uacfc @tanstack/react-table\uc744 \uc774\uc6a9\ud574\uc11c \ud14c\uc774\ube14\uc744 \ub9cc\ub4e4\uc5b4\ubcf4\uc558\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},'import * as React from "react";\n\nimport {\n  RowData,\n  createColumnHelper,\n  flexRender,\n  getCoreRowModel,\n  useReactTable,\n} from "@tanstack/react-table";\nimport { MenuItem, Select } from "@mui/material";\nimport { Control, Controller, useForm } from "react-hook-form";\nimport Selection from "./Selection";\nimport useTables from "./useTables";\n\ntype Person = {\n  firstName: string;\n  lastName: string;\n  age: number;\n  visits: number;\n  status: string;\n  progress: number;\n};\n\ndeclare module "@tanstack/react-table" {\n  interface TableMeta<TData> {\n    control: Control;\n  }\n}\n\nconst defaultData: Person[] = [\n  {\n    firstName: "tanner",\n    lastName: "linsley",\n    age: 24,\n    visits: 100,\n    status: "In Relationship",\n    progress: 50,\n  },\n  {\n    firstName: "tandy",\n    lastName: "miller",\n    age: 40,\n    visits: 40,\n    status: "Single",\n    progress: 80,\n  },\n  {\n    firstName: "joe",\n    lastName: "dirte",\n    age: 45,\n    visits: 20,\n    status: "Complicated",\n    progress: 10,\n  },\n];\n\nconst STATUS = [\n  { name: "a", id: "1", value: "Complicated" },\n  { name: "b", id: "2", value: "Single" },\n  { name: "c", id: "3", value: "In Relationship" },\n];\n\nconst AGE = [\n  { name: "40", id: "1", value: 40 },\n  { name: "24", id: "2", value: 7 },\n  { name: "45", id: "3", value: 19 },\n  { name: "45", id: "3", value: 39 },\n  { name: "45", id: "3", value: 28 },\n  { name: "45", id: "3", value: 22 },\n  { name: "45", id: "3", value: 9 },\n  { name: "45", id: "3", value: 24 },\n  { name: "45", id: "3", value: 18 },\n  { name: "45", id: "3", value: 30 },\n  { name: "45", id: "3", value: 31 },\n];\n\nconst columnHelper = createColumnHelper<Person>();\n\nfunction App() {\n  const [defaultValues, setDefaultValues] = React.useState({});\n  const { control, watch, setValue } = useForm({});\n\n  const columns = [\n    columnHelper.accessor("firstName", {\n      header: "firstName",\n      cell: (info) => info.getValue(),\n      // footer: (info) => info.column.id,\n    }),\n    columnHelper.accessor((row) => row.lastName, {\n      id: "lastName",\n      cell: (info) => <i>{info.getValue()}</i>,\n      header: () => <span>Last Name</span>,\n      // footer: (info) => info.column.id,\n    }),\n    columnHelper.accessor("visits", {\n      header: () => <span>Visits</span>,\n      // footer: (info) => info.column.id,\n    }),\n    columnHelper.accessor("progress", {\n      header: "Profile Progress",\n    }),\n    columnHelper.accessor("status", {\n      header: "Status",\n      cell: (table) => {\n        return (\n          <Controller\n            control={table.table.options.meta?.control}\n            defaultValue={table.getValue()}\n            name={`userInfo.${table.row.id}.status`}\n            render={({ field }) => {\n              return (\n                <Select {...field} defaultValue={table.getValue()}>\n                  {STATUS.map((el) => {\n                    return (\n                      <MenuItem key={el.id} value={el.value}>\n                        {el.name}\n                      </MenuItem>\n                    );\n                  })}\n                </Select>\n              );\n            }}\n          />\n        );\n      },\n    }),\n    columnHelper.accessor("age", {\n      header: () => "Age",\n      cell: (table) => {\n        return (\n          <Controller\n            control={control}\n            defaultValue={table.getValue()}\n            name={`userInfo.${table.row.id}.age`}\n            render={({ field }) => {\n              return (\n                <Select {...field}>\n                  {AGE.map((el) => {\n                    return (\n                      <MenuItem key={el.id} value={el.value}>\n                        {el.value}\n                      </MenuItem>\n                    );\n                  })}\n                </Select>\n              );\n            }}\n          />\n        );\n      },\n    }),\n  ];\n\n  const {\n    table: tables,\n    globalFilter,\n    setGlobalFilter,\n    rowSelection,\n  } = useTables();\n\n  const datas = React.useMemo(\n    () =>\n      tables.getSelectedRowModel().rows.map((el) => {\n        return el.original;\n      }),\n    [rowSelection, tables]\n  );\n\n  const table = useReactTable<any>({\n    data: datas,\n    columns,\n    getCoreRowModel: getCoreRowModel(),\n    meta: {\n      control,\n    },\n  });\n\n  React.useEffect(() => {\n    const defaultValue = { userInfo: {} };\n    tables.getSelectedRowModel().rows.forEach((el) => {\n      setValue(`userInfo.${el.id}.age`, el.original.age);\n      setValue(`userInfo.${el.id}.status`, el.original.status);\n      setValue(`userInfo.${el.id}.firstName`, el.original.firstName);\n    });\n    setDefaultValues(defaultValue);\n  }, [tables, rowSelection]);\n\n  return (\n    <div className="p-2">\n      <Selection\n        table={tables}\n        globalFilter={globalFilter}\n        setGlobalFilter={setGlobalFilter}\n      />\n      <table>\n        <thead>\n          {table.getHeaderGroups().map((headerGroup) => (\n            <tr key={headerGroup.id}>\n              {headerGroup.headers.map((header) => (\n                <th key={header.id}>\n                  {header.isPlaceholder\n                    ? null\n                    : flexRender(\n                        header.column.columnDef.header,\n                        header.getContext()\n                      )}\n                </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody>\n          {table.getRowModel().rows.map((row) => (\n            <tr key={row.id}>\n              {row.getVisibleCells().map((cell) => (\n                <td key={cell.id}>\n                  {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <div className="h-4" />\n    </div>\n  );\n}\n\nexport default App;\n')))}m.isMDXComponent=!0}}]);